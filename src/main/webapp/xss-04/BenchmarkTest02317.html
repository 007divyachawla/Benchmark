<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<script src="https://localhost:8443/benchmark/js/jquery.min.js"></script>
<script type="text/javascript" src="https://localhost:8443/benchmark/js/js.cookie.js"></script>
<title>BenchmarkTest02317</title>
</head>
<body>
<form action="/benchmark/xss-04/BenchmarkTest02317" method="POST" id="FormBenchmarkTest02317">
    <div><label>Please explain your answer:</label></div>
    <br/>
    <div><textarea rows="4" cols="50" id="BenchmarkTest02317Area" name="BenchmarkTest02317Area" value=""></textarea></div>
    <div><label>Any additional note for the reviewer:</label></div>
    <div><input type="text" id="answer" name="answer"></input></div>
    <br/>
    <div><label>An AJAX request will be sent with a parameter value 'BenchmarkTest02317' and name:</label>
    <input type="text" id="BenchmarkTest02317" name="BenchmarkTest02317" value="SafeText" class="safe"></input></div>
    <div><input type="button" id="login-btn" value="Login" /></div>
</form>
<div id="ajax-form-msg1"><pre><code class="prettyprint" id="code"></code></pre></div>
<script>
$('.safe').keypress(function (e) {
  if (e.which == 13) {
    $('#login-btn').trigger('click');
    return false;
  }
});

$("#login-btn").click(function(){
	var text = $("#FormBenchmarkTest02317 input[id=BenchmarkTest02317]").val();
	
	$("input.headerClass").remove();
	
	$("<input type='hidden' value='BenchmarkTest02317' />")
     .attr("id", text)
     .attr("name", text)
     .addClass("headerClass")
     .appendTo("#FormBenchmarkTest02317");

    var formData = $("#FormBenchmarkTest02317").serializeArray();
    var URL = $("#FormBenchmarkTest02317").attr("action");

    $.ajax({
        url : URL,
        type: "POST",
        data : formData,
        success: function(data, textStatus, jqXHR){
            $("#code").html(data);
        },
         error: function (jqXHR, textStatus, errorThrown){ alert(errorThrown);}
    });
});
</script>
</body>
</html>
